---
permalink: task-active-iq-alerts.html 
sidebar: sidebar 
keywords: solidfire, active, iq, alerts 
summary: SolidFire Active IQ のアラート関連タスクについて説明します。 
---
= アラート
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
すべてのクラスタビュー*内の* Alerts *ドロップダウンメニューから、アラート履歴の表示、アラートポリシーの作成と管理、クラスタ通知の表示と停止を行うことができます。

アラートに関連するタスクの詳細と実行方法：

* <<アラートの履歴を表示します>>
* <<アラートの履歴の詳細>>
* <<アラートポリシーを表示します>>
* <<create_alert_policy,アラートポリシーを作成します>>
* <<alert_policy_types,アラートポリシータイプ>>
* <<アラートポリシーを編集する>>
* <<アラートポリシーを削除する>>
* <<抑制されたクラスタを表示します>>
* <<クラスタ通知を停止>>
* <<クラスタからのクラスタの抑制を終了します>>
* <<アラート通知Eメール>>




== アラートの履歴を表示します

未解決または解決済みのアラートの履歴を表示できます。

.手順
. ［*アラート*］>［*履歴*］を選択します。
. クラスタのアラートの履歴を表示するには、「* Unresolved *」タブまたは「* resolved *」タブを選択します。
. （オプション）を選択します image:export_button.PNG["[エクスポート]ボタン"] アイコンをクリックして、データをCSVファイルにエクスポートします。




== アラートの履歴の詳細

[All Clusters]ビュー内の[Alerts]ドロップダウン・メニューの[*History]ページには'過去30日間に解決されたすべての未解決のアラートおよびアラートを含む'最大10000件のアラート履歴が表示されます

表示される詳細情報は次のとおりです。

[cols="25,75"]
|===
| 見出し | 説明 


| アラート ID | 各アラートの一意のID。 


| トリガー済み | アラートがSolidFire Active IQ でトリガーされた時刻。クラスタ自体ではトリガーされません。 


| 最後に通知しました | 最新のアラートEメールが送信された時刻です。 


| 解決しました | アラートの原因 が解決されたかどうかを示します。 


| 解決時間 | 問題 が解決された時刻。 


| ポリシー | これはユーザ定義のアラートポリシー名です。 


| 重大度 | アラートポリシーが作成された時点で割り当てられていた重大度。 


| 宛先 | アラートEメールの受信用に選択したEメールアドレス。 


| 会社 | アラートに関連付けられている顧客の名前。 


| クラスタ | アラートポリシーが追加されたクラスタの名前が表示されます。 


| トリガー | アラートをトリガーしたユーザ定義の設定。 
|===


== アラートポリシーを表示します

すべてのクラスタ・ビュー内の* Alerts *ドロップダウンメニューの* Policies *ページには、すべてのクラスタに関する次のポリシー情報が表示されます。

表示される詳細情報は次のとおりです。

[cols="25,75"]
|===
| 見出し | 説明 


| ポリシー名 | ユーザ定義のアラートポリシー名。 


| 宛先 | アラートポリシーで定義されたEメールアドレス。 


| 重大度 | アラートポリシーで割り当てられている重大度。 


| クラスタ | アラートポリシーに定義されている各クラスタの数と名前。情報アイコンを選択すると、関連付けられているクラスタが表示されます。 


| 条件 | アラートをトリガーするタイミングのユーザ定義の設定。 


| 抑制タイプ  a| 
抑制するアラートとイベントを決定します。次のタイプを使用できます。

* * Full *：指定した期間は、クラスタに対するすべてのアラートが抑制されます。サポートケースやEメールアラートは生成されません。
* *アップグレード*：重大でないクラスタアラートは、指定した期間は停止されます。重大なアラートでは、引き続きサポートケースやEメールが生成されます。
* *コンピューティング*：コンピューティングノードでVMwareによってトリガーされたアラートは抑制されます。
* * NodeHardware *：ノードのメンテナンスに関連するアラートは抑制されています。たとえば、ドライブの交換またはノードのオフライン化などです。
* *ドライブ*：ドライブの健常性に関連するアラートを抑制します。
* *ネットワーク*：ネットワーク構成とヘルスに関連するアラートは抑制されます。
* *電源*:電源冗長性アラートは抑制されています。電源が完全に失われた場合に発生する_nodeOffline_alertは抑制されません




| アクション | 選択したポリシーの編集オプションと削除オプションを表示する縦のドロップダウンメニューを選択します。 
|===


== アラートポリシーを作成します

SolidFire Active IQ のすべてのクラスタビュー*から情報を監視するアラートポリシーを作成できます。アラートポリシーを使用すると、インストール全体で1つ以上のクラスタのステータスやパフォーマンスイベントを通知して、より重大なイベントに事前に対処したり対応したりすることができます。

.手順
. [*アラート*>*ポリシー*]を選択します。
. [ * ポリシーの作成 * ] を選択します。
. [*ポリシータイプ*]リストからアラート・タイプを選択しますを参照してください <<alert_policy_types,アラートポリシータイプ>>。
+

NOTE: 選択したポリシータイプに応じて、[ポリシーの作成*]ダイアログボックス内にポリシー固有のフィールドが追加されます。

. 新しいアラートポリシーの名前を入力します。
+

NOTE: アラートポリシー名には、アラートの作成対象となる条件を記述する必要があります。わかりやすいタイトルを付けると、アラートを簡単に特定できます。アラートポリシー名は、システム内の他の場所に参照として表示されます。

. 重大度レベルを選択します。
+

TIP: アラート・ポリシーの重大度レベルは色分けされており'［*アラート*］＞［*履歴］ページ*から簡単にフィルタリングできます

. アラートポリシーの抑制のタイプを特定するには、*抑制可能タイプ*からタイプを選択します。複数のタイプを選択できます。
+
関連付けが適切であることを確認します。たとえば、ネットワークアラートポリシーに*Network Suppression *を選択したとします。

. ポリシーに含めるクラスタを1つ以上選択します。
+

CAUTION: ポリシーの作成後に新しいクラスタを環境に追加した場合、そのクラスタは既存のアラートポリシーに自動的には追加されません。既存のアラートポリシーを編集し、ポリシーに関連付ける新しいクラスタを選択する必要があります。

. アラート通知の送信先となるEメールアドレスを1つ以上入力します。複数のアドレスを入力する場合は、各アドレスをカンマで区切る必要があります。
. ［*アラートポリシーの保存*］を選択します。




== アラートポリシータイプ

[ポリシーの作成*]ダイアログボックスに表示されている使用可能なポリシータイプに基づいて、[アラーム*>*Policies*]からアラートポリシーを作成できます。

使用可能なポリシーアラートの種類は次のとおりです。

[cols="25,75"]
|===
| ポリシータイプ | 説明 


| クラスタ障害です | 特定のタイプまたはいずれかのタイプのクラスタ障害が発生したときに通知を送信します。 


| イベント | 特定のイベントタイプが発生したときに通知を送信します。 


| 障害ドライブ | ドライブ障害が発生したときに通知を送信します。 


| 使用可能ドライブ | ドライブが_available_stateになったときに通知を送信します。 


| クラスタ利用率 | 使用中のクラスタの容量とパフォーマンスが指定した割合を超えたときに通知を送信します。 


| 使用可能スペース | 使用可能なクラスタスペースが指定した割合を下回ったときに通知を送信します。 


| プロビジョニング可能なスペース | プロビジョニング可能なクラスタスペースが指定した割合を下回ったときに通知を送信します。 


| コレクタが報告されて | 管理ノードで実行されているSolidFire Active IQ のコレクタが、指定した期間にわたってSolidFire Active IQ へのデータ送信に失敗したときに通知を送信します。 


| ドライブの摩耗度 | クラスタ内のドライブの摩耗度またはリザーブスペースが指定した割合を下回った場合に通知を送信します。 


| iSCSIセッション | アクティブなiSCSIセッションの数が指定した値よりも多い場合に通知を送信します。 


| シャーシの耐障害性 | クラスタの使用済みスペースがユーザ指定の割合を超えたときに通知を送信します。クラスタの耐障害性しきい値に達する前に早期通知を行うために十分な割合を選択してください。このしきい値に達すると、クラスタはシャーシレベルの障害から自動的に修復できなくなります。 


| VMwareアラームです | VMwareアラームがトリガーされてSolidFire Active IQ に報告されたときに通知を送信します。 


| カスタム保護ドメインの耐障害性 | 使用済みスペースがカスタムの保護ドメインの耐障害性しきい値の指定した割合を超えると、システムから通知が送信されます。この割合が100に達すると、カスタムの保護ドメインで障害が発生した場合に自己修復するための十分な空き容量がストレージクラスタにありません。 


| ノードコア/クラッシュダンプファイル | サービスが応答しなくなり再起動が必要になると、コアファイルまたはクラッシュダンプファイルが作成され、通知が送信されます。これは、通常の処理では想定される動作ではありません。 
|===


== アラートポリシーを編集する

アラートポリシーを編集して、ポリシーに対してクラスタを追加または削除したり、追加のポリシー設定を変更したりできます。

.手順
. [*アラート*>*ポリシー*]を選択します。
. [*アクション*（* Actions *）]の下のその他のオプションのメニューを選択します。
. ［*ポリシーの編集*］を選択します。
+

NOTE: ポリシータイプおよびタイプ固有の監視条件は編集できません。

. （オプション）新しいアラートポリシーの改訂名を入力します。
+

NOTE: アラートポリシー名には、アラートの作成対象となる条件を記述する必要があります。わかりやすいタイトルを付けると、アラートを簡単に特定できます。アラートポリシー名は、システム内の他の場所に参照として表示されます。

. （任意）別の重大度レベルを選択します。
+

TIP: アラートポリシーの重大度レベルは色分けされており、[Alerts]>[History]ページから簡単にフィルタリングできます。

. アラートポリシーがアクティブな場合の抑制のタイプを判別するには、*抑制可能タイプ*からタイプを選択します。複数のタイプを選択できます。
+
関連付けが適切であることを確認します。たとえば、ネットワークアラートポリシーに*Network Suppression *を選択したとします。

. （オプション）クラスタとポリシーの関連付けを選択または削除します。
+

CAUTION: ポリシーの作成後に新しいクラスタを環境に追加した場合、そのクラスタは既存のアラートポリシーに自動的には追加されません。ポリシーに関連付ける新しいクラスタを選択する必要があります。

. （オプション）アラート通知の送信先となる1つ以上のEメールアドレスを変更します。複数のアドレスを入力する場合は、各アドレスをカンマで区切る必要があります。
. ［*アラートポリシーの保存*］を選択します。




== アラートポリシーを削除する

アラートポリシーを削除すると、システムから完全に削除されます。そのポリシーに関するEメール通知は送信されなくなり、ポリシーとクラスタの関連付けが削除されます。

.手順
. [*アラート*>*ポリシー*]を選択します。
. [*アクション*（* Actions *）]で、その他のオプションのメニューを選択します。
. [*ポリシーの削除*]を選択します。
. 操作を確定します。
+
ポリシーはシステムから完全に削除されます。





== 抑制されたクラスタを表示します

すべてのクラスタビュー*内の* Alerts *ドロップダウンメニューの* Suppressed Clusters *ページでは、アラート通知が抑制されているクラスタのリストを表示できます。

ネットアップサポートまたはお客様は、メンテナンスの際にクラスタのアラート通知を停止できます。アップグレードの抑制を使用してクラスタに対する通知を停止した場合、アップグレード中に発生する一般的なアラートは送信されません。また、指定した期間、クラスタのアラート通知を停止するフルアラート抑制オプションもあります。通知が抑制されたときに送信されない電子メールアラートは、[* Alerts]メニューの[*History]ページで確認できます。定義した期間が経過すると、自動的に通知が停止されます。通知の抑制を早期に終了するには、ドロップダウンメニューで[通知の再開]を選択します。

以下の情報は、* Suppressed Clusters *ページで確認できます。

[cols="25,75"]
|===
| 見出し | 説明 


| 会社 | クラスタに割り当てられている会社の名前。 


| クラスタID | クラスタの作成時に割り当てられたクラスタ番号。 


| クラスタ名 | クラスタに割り当てられている名前。 


| 開始時間 | 通知の抑制が開始された、または開始がスケジュールされている正確な時刻。 


| 終了時刻 | 通知の抑制が終了する予定の正確な時刻 


| を入力します  a| 
抑制するアラートとイベントを決定します。次のタイプを使用できます。

* * Full *：指定した期間は、クラスタに対するすべてのアラートが抑制されます。サポートケースやEメールアラートは生成されません。
* *アップグレード*：重大でないクラスタアラートは、指定した期間は停止されます。重大なアラートでは、引き続きサポートケースやEメールが生成されます。
* *コンピューティング*：コンピューティングノードでVMwareによってトリガーされたアラートは抑制されます。
* * NodeHardware *：ノードのメンテナンスに関連するアラートは抑制されています。たとえば、ドライブの交換またはノードのオフライン化などです。
* *ドライブ*：ドライブの健常性に関連するアラートを抑制します。
* *ネットワーク*：ネットワーク構成とヘルスに関連するアラートは抑制されます。
* *電源*:電源冗長性アラートは抑制されています。電源が完全に失われた場合に発生する_nodeOffline_alertは抑制されません




| ステータス  a| 
アラート通知のステータスを示します。

* * Active *：アラート通知の抑制がアクティブです。
* *future *:警告通知の抑制は、将来の日付と時刻にスケジュールされます。




| アクション | クラスタの通知を停止または再開するオプションを選択します。 
|===


== クラスタ通知を停止

単一のクラスタまたは複数のクラスタの現在の日時またはスケジュールのアラート通知をクラスタレベルで停止して、将来の日時に開始することができます。

.手順
. 次のいずれかを実行します。
+
.. ダッシュボード*の概要で、抑制するクラスタの操作メニューを選択します。
.. * Alerts *>* Cluster Suppression *から、* Suppress Clusters *を選択します。


. [*Suppress Alerts for Cluster*]ダイアログボックスで、次の操作を行います。
+
.. [* Suppressed Clusters]ページで[* Suppress Clusters]*ボタンを選択した場合は、クラスタを選択します。
.. アラート抑制タイプとして、「* Full *」、「* Upgrades *」、「Compute *」、「* NodeHardware」、「* Drive *」のいずれかを選択します。 *ネットワーク*または*電源*。 <<suppressed_types,抑制タイプについて説明します>>。
+

NOTE: 1つのクラスタに複数の抑制タイプを設定でき、同じ抑制タイプの複数の選択を含めることができます。スケジュールされた抑制期間中に抑制タイプがすでに存在する場合、そのタイプはグレー表示されます。この抑制タイプを再度選択するには、*既存のオーバーラップ*を選択します。同じ抑制タイプの複数の選択では、重複する時間を設定できます。また、将来の抑制をスケジュールする場合は、異なる時間に設定することもできます。2つの抑制に期間が重複している場合、この機能は、1つの抑制を持つことと同じです。開始時間は、最も早い時点から、最後の時点までです。

.. 通知の抑制を開始する開始日時を選択します。
.. 共通の期間を選択するか、通知を停止するカスタムの終了日時を入力します。


. *抑制*を選択します。
+

NOTE: この操作は、ネットアップサポートへの特定またはすべての通知も停止します。クラスタの抑制を有効にすると、ネットアップサポート、またはクラスタを表示する権限を持つすべてのユーザが抑制状態を更新できます。





== クラスタからのクラスタの抑制を終了します

Suppress Clusters機能を使用して適用されたクラスタに対するクラスタアラート抑制を終了できます。これにより、クラスタで通常のアラートレポートの状態を再開できます。

.手順
. Dashboard * overviewまたは* Alerts *>* Cluster Suppression *で、標準のアラートレポートを再開する1つまたは複数のクラスタの抑制を終了します。
+
.. 単一のクラスタの場合は、クラスタのActionsメニューを選択し、* End Suppression *を選択します。
.. 複数のクラスタの場合は、クラスタを選択し、「選択した抑制を終了」を選択します。






== アラート通知Eメール

SolidFire Active IQ アラートのユーザは、システムでトリガーされる各アラートに対して異なるステータスEメールを受信します。アラートに関連付けられるステータスEメールには、次の3種類があります。

[cols="35,65"]
|===


| 新しいアラートEメール | このタイプのEメールはアラートがトリガーされると送信されます。 


| リマインダのアラートのEメール | このタイプのEメールは、アラートがアクティブなままであるかぎり24時間ごとに送信されます。 


| アラート解決電子メール | このタイプのEメールは、問題 が解決されると送信されます。 
|===
アラートポリシーが作成され、このポリシーの新しいアラートが生成されると、指定したEメールアドレスにEメールが送信されます（を参照） <<create_alert_policy,アラートポリシーを作成します>>）。

アラートEメールの件名には、報告されたエラーの種類に応じて次のいずれかの形式が使用されます。

* 未解決のクラスタ障害:[cluster fault code][cluster name]([severity])`の障害
* クラスタ障害を解決しました：'Resolved：[cluster fault code][cluster name]([severity])`の障害
* 未解決のアラート:[policy name] alerton [cluster name]([severity])`
* 解決済みのアラート障害：'Resolved：[policy name] alert on [cluster name]（[severity])`


通知Eメールの内容は次の例のようになります。image:example_email.PNG["Eメールの例"]



== 詳細については、こちらをご覧ください

https://www.netapp.com/support-and-training/documentation/["ネットアップの製品マニュアル"^]
